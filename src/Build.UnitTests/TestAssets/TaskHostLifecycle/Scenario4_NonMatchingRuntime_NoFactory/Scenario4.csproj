<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net10.0</TargetFramework>
  </PropertyGroup>

  <PropertyGroup>
    <TestProjectFolder>$([System.IO.Path]::GetFullPath('$([System.IO.Path]::Combine('$(AssemblyLocation)', '..'))'))</TestProjectFolder>
    <ExampleTaskPath>$([System.IO.Path]::Combine('$(TestProjectFolder)', '$(TargetFramework)', 'ExampleTask.dll'))</ExampleTaskPath>
  </PropertyGroup>

  <!-- Scenario 4: Runtime doesn't match + TaskHostFactory NOT requested â†’ long-lived sidecar out of proc -->
  <UsingTask
      TaskName="ExampleTask"
      AssemblyFile="$(ExampleTaskPath)"
      Runtime="NET"/>
  
  <Target Name="TestTask" BeforeTargets="Build">
    <ExampleTask />
  </Target>

</Project>
