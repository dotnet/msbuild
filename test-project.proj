<Project>
  <ItemGroup>
    <P Include="$(MSBuildThisFileFullPath)" AdditionalProperties="Foo=Bar" />
    <P Include="$(MSBuildThisFileFullPath)" AdditionalProperties="Foo=Baz" />
  </ItemGroup>
  <Target Name="Y">
    <MSBuild Projects="@(P)" BuildInParallel="true" Targets="X" />
  </Target>
  <Target Name="X">
    <SemaphoreCPUTask />
    <Message Importance="High" Text="Middle" />
    <!-- <SemaphoreCPUTask /> -->
  </Target>
</Project>